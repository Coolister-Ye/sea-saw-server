# Sea-Saw ERP ç³»ç»Ÿæ¨¡å—åŒ–æ”¹é€ è®¡åˆ’

## æ–‡æ¡£ç‰ˆæœ¬

- **ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2026-02-02
- **æœ€åæ›´æ–°**: 2026-02-02
- **çŠ¶æ€**: Phase 2.3 å·²å®Œæˆï¼Œå‡†å¤‡å¼€å§‹ Phase 2.4

## ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æ¶æ„è®¾è®¡ç›®æ ‡](#æ¶æ„è®¾è®¡ç›®æ ‡)
3. [åº”ç”¨æ‹†åˆ†æ–¹æ¡ˆ](#åº”ç”¨æ‹†åˆ†æ–¹æ¡ˆ)
4. [ä¾èµ–å…³ç³»å›¾](#ä¾èµ–å…³ç³»å›¾)
5. [å®æ–½é˜¶æ®µ](#å®æ–½é˜¶æ®µ)
6. [å½“å‰è¿›åº¦](#å½“å‰è¿›åº¦)
7. [æµ‹è¯•éªŒè¯æ¸…å•](#æµ‹è¯•éªŒè¯æ¸…å•)
8. [å›æ»šæ–¹æ¡ˆ](#å›æ»šæ–¹æ¡ˆ)

---

## æ¦‚è¿°

### èƒŒæ™¯

Sea-Saw ç³»ç»Ÿæœ€åˆè®¾è®¡ä¸º CRMï¼ˆå®¢æˆ·å…³ç³»ç®¡ç†ï¼‰ç³»ç»Ÿï¼Œæ‰€æœ‰ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨ `sea_saw_crm` å•ä½“åº”ç”¨ä¸­ã€‚éšç€ä¸šåŠ¡å‘å±•ï¼Œç³»ç»Ÿé€æ­¥æ¼”åŒ–ä¸º ERPï¼ˆä¼ä¸šèµ„æºè§„åˆ’ï¼‰ç³»ç»Ÿï¼Œæ¶µç›–é”€å”®ã€ç”Ÿäº§ã€é‡‡è´­ã€ä»“åº“ã€è´¢åŠ¡ç­‰å¤šä¸ªä¸šåŠ¡æ¨¡å—ã€‚

### é—®é¢˜

å•ä½“åº”ç”¨æ¶æ„å¯¼è‡´ï¼š
- **ä»£ç è€¦åˆåº¦é«˜**ï¼šå„ä¸šåŠ¡æ¨¡å—ç´§å¯†è€¦åˆï¼Œéš¾ä»¥ç‹¬ç«‹å¼€å‘å’Œç»´æŠ¤
- **æ‰©å±•æ€§å·®**ï¼šæ–°å¢åŠŸèƒ½å½±å“èŒƒå›´å¹¿ï¼Œæµ‹è¯•æˆæœ¬é«˜
- **å›¢é˜Ÿåä½œå›°éš¾**ï¼šå¤šä¸ªå¼€å‘è€…åŒæ—¶ä¿®æ”¹åŒä¸€åº”ç”¨ï¼Œå†²çªé¢‘ç¹
- **éƒ¨ç½²é£é™©å¤§**ï¼šä¸€ä¸ªæ¨¡å—çš„å˜æ›´éœ€è¦é‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨
- **è¯­ä¹‰æ··ä¹±**ï¼šåº”ç”¨åç§° `sea_saw_crm` ä¸å†å‡†ç¡®åæ˜ ç³»ç»ŸåŠŸèƒ½

### ç›®æ ‡

å°†å•ä½“ `sea_saw_crm` åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„ Django åº”ç”¨ï¼Œå®ç°ï¼š
- **é«˜å†…èšä½è€¦åˆ**ï¼šæ¯ä¸ªåº”ç”¨ä¸“æ³¨äºå•ä¸€ä¸šåŠ¡é¢†åŸŸ
- **ç‹¬ç«‹å¼€å‘éƒ¨ç½²**ï¼šå„æ¨¡å—å¯ç‹¬ç«‹æµ‹è¯•å’Œéƒ¨ç½²
- **æ¸…æ™°çš„èŒè´£è¾¹ç•Œ**ï¼šåº”ç”¨åç§°å‡†ç¡®åæ˜ ä¸šåŠ¡åŠŸèƒ½
- **æ›´å¥½çš„å¯ç»´æŠ¤æ€§**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹
- **å›¢é˜Ÿåä½œæ•ˆç‡**ï¼šå‡å°‘ä»£ç å†²çªï¼Œæå‡å¼€å‘æ•ˆç‡

---

## æ¶æ„è®¾è®¡ç›®æ ‡

### 1. åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend (React Native)             â”‚
â”‚         sea-saw-app (iOS, Android, Web)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          API Gateway (Django URL Router)         â”‚
â”‚        /api/sales/, /api/production/, etc.      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Business Applications               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Sales    â”‚Productionâ”‚Procure-  â”‚Warehouse â”‚  â”‚
â”‚  â”‚          â”‚          â”‚ment      â”‚          â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Finance  â”‚ Pipeline â”‚   CRM    â”‚   Auth   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Foundation Applications               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚    â”‚ sea_saw_base â”‚ sea_saw_attachment â”‚        â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Database (PostgreSQL/SQLite)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. åº”ç”¨èŒè´£åˆ’åˆ†

| åº”ç”¨åç§° | èŒè´£ | æ ¸å¿ƒæ¨¡å‹ |
|---------|------|---------|
| **sea_saw_base** | åŸºç¡€æ¨¡å‹å’Œå·¥å…·ç±»ï¼ˆæŠ½è±¡åŸºç±»ï¼‰ | BaseModel, AbstractOrderBase, AbstarctItemBase |
| **sea_saw_attachment** | ç»Ÿä¸€é™„ä»¶ç®¡ç† | Attachment |
| **sea_saw_auth** | ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç† | User, Role |
| **sea_saw_sales** | é”€å”®è®¢å•ç®¡ç† | Order, OrderItem |
| **sea_saw_production** | ç”Ÿäº§è®¢å•ç®¡ç† | ProductionOrder, ProductionItem |
| **sea_saw_procurement** | é‡‡è´­è®¢å•ç®¡ç† | PurchaseOrder, PurchaseItem |
| **sea_saw_warehouse** | ä»“åº“å’Œå‡ºåº“ç®¡ç† | OutboundOrder, OutboundItem |
| **sea_saw_finance** | è´¢åŠ¡å’Œæ”¯ä»˜ç®¡ç† | Payment |
| **sea_saw_pipeline** | ä¸šåŠ¡æµç¨‹ç¼–æ’ | Pipeline |
| **sea_saw_crm** | æ ¸å¿ƒ CRM åŠŸèƒ½ï¼ˆå®¢æˆ·ã€è”ç³»äººã€ä¾›åº”å•†ç­‰ï¼‰ | Company, Contact, Supplier, Contract |

### 3. è®¾è®¡åŸåˆ™

#### ä¾èµ–æ–¹å‘
- **å•å‘ä¾èµ–**ï¼šä¸šåŠ¡åº”ç”¨ä¾èµ–åŸºç¡€åº”ç”¨ï¼ŒåŸºç¡€åº”ç”¨ä¸ä¾èµ–ä¸šåŠ¡åº”ç”¨
- **æœ€å°ä¾èµ–**ï¼šé¿å…ä¸šåŠ¡åº”ç”¨ä¹‹é—´çš„ç›´æ¥ä¾èµ–
- **å­—ç¬¦ä¸²å¼•ç”¨**ï¼šä½¿ç”¨ Django çš„å­—ç¬¦ä¸²å¼•ç”¨æœºåˆ¶ï¼ˆ`"app_label.ModelName"`ï¼‰é¿å…å¾ªç¯å¯¼å…¥

#### æ•°æ®éš”ç¦»
- **ç‹¬ç«‹æ¨¡å‹**ï¼šæ¯ä¸ªåº”ç”¨æ‹¥æœ‰è‡ªå·±çš„æ¨¡å‹ï¼Œä¸å…±äº«æ¨¡å‹å®šä¹‰
- **å¤–é”®å¼•ç”¨**ï¼šè·¨åº”ç”¨å¼•ç”¨ä½¿ç”¨å­—ç¬¦ä¸²å¼•ç”¨æˆ– GenericForeignKey
- **è¿ç§»ç‹¬ç«‹**ï¼šæ¯ä¸ªåº”ç”¨æœ‰ç‹¬ç«‹çš„è¿ç§»æ–‡ä»¶

#### API è®¾è®¡
- **ç‹¬ç«‹ç«¯ç‚¹**ï¼šæ¯ä¸ªåº”ç”¨æœ‰ç‹¬ç«‹çš„ URL å‘½åç©ºé—´
- **RESTful**ï¼šéµå¾ª REST è®¾è®¡åŸåˆ™
- **ç‰ˆæœ¬åŒ–**ï¼šé¢„ç•™ API ç‰ˆæœ¬åŒ–ç©ºé—´

---

## åº”ç”¨æ‹†åˆ†æ–¹æ¡ˆ

### Phase 1: åŸºç¡€è®¾æ–½åº”ç”¨ï¼ˆå·²å®Œæˆ âœ…ï¼‰

#### 1.1 sea_saw_base
**åˆ›å»ºæ—¶é—´**: Phase 1
**çŠ¶æ€**: âœ… å·²å®Œæˆ

**è¿ç§»å†…å®¹**:
- æŠ½è±¡åŸºç±»ï¼š`BaseModel`, `AbstractOrderBase`, `AbstarctItemBase`
- åŸºç¡€ç®¡ç†å™¨ï¼š`BaseModelManager`
- å·¥å…·å‡½æ•°å’Œæ··å…¥ç±»

**æ–‡ä»¶ç»“æ„**:
```
sea_saw_base/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ apps.py
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py                # BaseModel, Field
â”‚   â”œâ”€â”€ abstract_order_base.py # AbstractOrderBase
â”‚   â””â”€â”€ abstract_item_base.py  # AbstarctItemBase
â””â”€â”€ manager/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ base_model_manager.py
```

#### 1.2 sea_saw_attachment
**åˆ›å»ºæ—¶é—´**: Phase 1
**çŠ¶æ€**: âœ… å·²å®Œæˆ

**è¿ç§»å†…å®¹**:
- ç»Ÿä¸€é™„ä»¶æ¨¡å‹
- é™„ä»¶è§†å›¾å’Œåºåˆ—åŒ–å™¨
- æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½é€»è¾‘

**æ–‡ä»¶ç»“æ„**:
```
sea_saw_attachment/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ apps.py
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ attachment.py         # Attachment
â”œâ”€â”€ serializers/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ attachment.py
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ attachment_view.py    # SecureAttachmentDownloadView
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ attachment.py
â””â”€â”€ urls.py                   # /api/attachments/
```

---

### Phase 2: ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ï¼ˆè¿›è¡Œä¸­ ğŸš§ï¼‰

#### 2.1 sea_saw_salesï¼ˆå·²å®Œæˆ âœ…ï¼‰
**åˆ›å»ºæ—¶é—´**: Phase 2.1
**çŠ¶æ€**: âœ… å·²å®Œæˆ
**API ç«¯ç‚¹**: `/api/sales/`

**è¿ç§»å†…å®¹**:
- æ¨¡å‹ï¼š`Order`, `OrderItem`, `OrderStatusType`
- åºåˆ—åŒ–å™¨ï¼šè®¢å•ç›¸å…³çš„æ‰€æœ‰åºåˆ—åŒ–å™¨
- è§†å›¾ï¼š`OrderViewSet`, `NestedOrderViewSet`
- ç®¡ç†å™¨ï¼š`OrderModelManager`
- Django Admin é…ç½®

**ä¾èµ–å…³ç³»**:
```
sea_saw_sales
  â”œâ”€â”€ â†’ sea_saw_base (AbstractOrderBase, AbstarctItemBase)
  â”œâ”€â”€ â†’ sea_saw_attachment (Attachment via GenericRelation)
  â””â”€â”€ â†’ sea_saw_crm (Company, Contact via string reference)
```

**æ•°æ®åº“è¡¨**:
- `sea_saw_sales_order`
- `sea_saw_sales_orderitem`

**éªŒè¯ç»“æœ**: âœ… è¿ç§»æˆåŠŸï¼Œæ•°æ®åº“è¡¨å·²åˆ›å»º

---

#### 2.2 sea_saw_productionï¼ˆå·²å®Œæˆ âœ…ï¼‰
**åˆ›å»ºæ—¶é—´**: Phase 2.2
**çŠ¶æ€**: âœ… å·²å®Œæˆ
**API ç«¯ç‚¹**: `/api/production/`

**è¿ç§»å†…å®¹**:
- æ¨¡å‹ï¼š`ProductionOrder`, `ProductionItem`, `ProductionStatus`
- åºåˆ—åŒ–å™¨ï¼šç”Ÿäº§è®¢å•ç›¸å…³çš„æ‰€æœ‰åºåˆ—åŒ–å™¨ï¼ˆnested å’Œ standaloneï¼‰
- è§†å›¾ï¼š`ProductionOrderViewSet`, `NestedProductionOrderViewSet`
- å·¥ä½œæµæ“ä½œï¼š`start_production`, `finish_production`, `report_issue`, `resolve_issue`
- Django Admin é…ç½®

**ä¾èµ–å…³ç³»**:
```
sea_saw_production
  â”œâ”€â”€ â†’ sea_saw_base (BaseModel, AbstarctItemBase)
  â”œâ”€â”€ â†’ sea_saw_attachment (Attachment via GenericRelation)
  â”œâ”€â”€ â†’ sea_saw_sales (Order, OrderItem)
  â””â”€â”€ â†’ sea_saw_crm (Pipeline via string reference)
```

**æ•°æ®åº“è¡¨**:
- `sea_saw_production_productionorder`
- `sea_saw_production_productionitem`

**éªŒè¯ç»“æœ**: âœ… è¿ç§»æˆåŠŸï¼Œæ•°æ®åº“è¡¨å·²åˆ›å»º

---

#### 2.3 sea_saw_procurementï¼ˆå·²å®Œæˆ âœ…ï¼‰
**åˆ›å»ºæ—¶é—´**: Phase 2.3
**çŠ¶æ€**: âœ… å·²å®Œæˆ
**API ç«¯ç‚¹**: `/api/procurement/`

**è¿ç§»å†…å®¹**:
- æ¨¡å‹ï¼š`PurchaseOrder`, `PurchaseItem`, `PurchaseStatus`
- åºåˆ—åŒ–å™¨ï¼šé‡‡è´­è®¢å•ç›¸å…³çš„æ‰€æœ‰åºåˆ—åŒ–å™¨
- è§†å›¾ï¼š`NestedPurchaseOrderViewSet`
- Django Admin é…ç½®

**ä¾èµ–å…³ç³»**:
```
sea_saw_procurement
  â”œâ”€â”€ â†’ sea_saw_base (AbstractOrderBase, AbstarctItemBase)
  â”œâ”€â”€ â†’ sea_saw_attachment (Attachment via GenericRelation)
  â”œâ”€â”€ â†’ sea_saw_sales (Order, OrderItem)
  â”œâ”€â”€ â†’ sea_saw_crm (Pipeline, Supplier via string reference)
  â””â”€â”€ â†’ sea_saw_crm.serializers (AttachmentSerializer, mixins)
```

**æ•°æ®åº“è¡¨**:
- `sea_saw_procurement_purchaseorder`
- `sea_saw_procurement_purchaseitem`

**éªŒè¯ç»“æœ**: âœ… è¿ç§»æˆåŠŸï¼Œæ•°æ®åº“è¡¨å·²åˆ›å»º

**å·²ä¿®å¤çš„å¯¼å…¥é—®é¢˜**:
1. âœ… `sea_saw_crm/views/payment_view.py:24` - ä» `sea_saw_procurement.serializers` å¯¼å…¥
2. âœ… `sea_saw_procurement/views/purchase_view.py` - ä¿®å¤ç¼ºå°‘ç‚¹å·çš„å¯¼å…¥ï¼ˆparsers, serializers, permissions, metadata, mixinsï¼‰

---

#### 2.4 sea_saw_warehouseï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰
**è®¡åˆ’æ—¶é—´**: Phase 2.4
**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹
**API ç«¯ç‚¹**: `/api/warehouse/`

**è®¡åˆ’è¿ç§»å†…å®¹**:
- æ¨¡å‹ï¼š`OutboundOrder`, `OutboundItem`, `OutboundStatus`
- åºåˆ—åŒ–å™¨ï¼šå‡ºåº“è®¢å•ç›¸å…³çš„æ‰€æœ‰åºåˆ—åŒ–å™¨
- è§†å›¾ï¼š`NestedOutboundOrderViewSet`
- Django Admin é…ç½®

**ä¾èµ–å…³ç³»**:
```
sea_saw_warehouse
  â”œâ”€â”€ â†’ sea_saw_base (AbstractOrderBase, AbstarctItemBase)
  â”œâ”€â”€ â†’ sea_saw_attachment (Attachment via GenericRelation)
  â”œâ”€â”€ â†’ sea_saw_sales (Order, OrderItem)
  â”œâ”€â”€ â†’ sea_saw_production (ProductionItem)
  â””â”€â”€ â†’ sea_saw_crm (Pipeline via string reference)
```

**æ•°æ®åº“è¡¨**:
- `sea_saw_warehouse_outboundorder`
- `sea_saw_warehouse_outbounditem`

**å®æ–½æ­¥éª¤**:
1. åˆ›å»º `sea_saw_warehouse` åº”ç”¨ç»“æ„
2. å¤åˆ¶ `OutboundOrder` å’Œ `OutboundItem` æ¨¡å‹
3. æ›´æ–°æ¨¡å‹ä¸­çš„å¤–é”®å¼•ç”¨ï¼ˆä½¿ç”¨å­—ç¬¦ä¸²å¼•ç”¨ï¼‰
4. å¤åˆ¶åºåˆ—åŒ–å™¨ã€è§†å›¾ã€ç®¡ç†ç•Œé¢
5. åˆ›å»º URLs é…ç½®
6. æ›´æ–° `INSTALLED_APPS` å’Œä¸» URL è·¯ç”±
7. æ›´æ–°æ‰€æœ‰ `OutboundOrder` å¼•ç”¨
8. åˆ é™¤ `sea_saw_crm` ä¸­çš„æ—§ä»£ç 
9. é‡æ–°åˆ›å»ºè¿ç§»å¹¶åº”ç”¨

---

#### 2.5 sea_saw_financeï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰
**è®¡åˆ’æ—¶é—´**: Phase 2.5
**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹
**API ç«¯ç‚¹**: `/api/finance/`

**è®¡åˆ’è¿ç§»å†…å®¹**:
- æ¨¡å‹ï¼š`Payment` (åŠç›¸å…³æšä¸¾)
- åºåˆ—åŒ–å™¨ï¼šæ”¯ä»˜ç›¸å…³çš„æ‰€æœ‰åºåˆ—åŒ–å™¨
- è§†å›¾ï¼š`PaymentViewSet`, `NestedPaymentViewSet`, `PaymentRecordViewSet`, `NestedPaymentRecordViewSet`
- Django Admin é…ç½®

**ä¾èµ–å…³ç³»**:
```
sea_saw_finance
  â”œâ”€â”€ â†’ sea_saw_base (BaseModel)
  â”œâ”€â”€ â†’ sea_saw_sales (Order via GenericForeignKey)
  â”œâ”€â”€ â†’ sea_saw_production (ProductionOrder via GenericForeignKey)
  â”œâ”€â”€ â†’ sea_saw_procurement (PurchaseOrder via GenericForeignKey)
  â””â”€â”€ â†’ sea_saw_warehouse (OutboundOrder via GenericForeignKey)
```

**æ•°æ®åº“è¡¨**:
- `sea_saw_finance_payment`

**ç‰¹æ®Šè€ƒè™‘**:
- Payment ä½¿ç”¨ `GenericForeignKey` å…³è”å¤šç§è®¢å•ç±»å‹
- éœ€è¦æ›´æ–° `ContentType` ç›¸å…³çš„æŸ¥è¯¢é€»è¾‘
- æ”¯ä»˜è§†å›¾æœ‰å¤šä¸ªåˆ«åï¼ˆPaymentRecord*ï¼‰ï¼Œéœ€ä¿æŒå‘åå…¼å®¹

---

### Phase 3: æµç¨‹ç¼–æ’åº”ç”¨ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰

#### 3.1 sea_saw_pipelineï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰
**è®¡åˆ’æ—¶é—´**: Phase 3.1
**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹
**API ç«¯ç‚¹**: `/api/pipeline/`

**è®¡åˆ’è¿ç§»å†…å®¹**:
- æ¨¡å‹ï¼š`Pipeline`, `PipelineStatusType`, `PipelineType`
- åºåˆ—åŒ–å™¨ï¼šPipeline ç›¸å…³çš„æ‰€æœ‰åºåˆ—åŒ–å™¨
- è§†å›¾ï¼š`PipelineViewSet`
- ç®¡ç†å™¨ï¼š`PipelineModelManager`
- æœåŠ¡ï¼š`PipelineStateService`, `StatusSyncService`
- ä¿¡å·ï¼šçŠ¶æ€åŒæ­¥ä¿¡å·å¤„ç†
- Django Admin é…ç½®

**ä¾èµ–å…³ç³»**:
```
sea_saw_pipeline
  â”œâ”€â”€ â†’ sea_saw_base (BaseModel)
  â”œâ”€â”€ â†’ sea_saw_sales (Order)
  â”œâ”€â”€ â†’ sea_saw_production (ProductionOrder)
  â”œâ”€â”€ â†’ sea_saw_procurement (PurchaseOrder)
  â”œâ”€â”€ â†’ sea_saw_warehouse (OutboundOrder)
  â”œâ”€â”€ â†’ sea_saw_finance (Payment)
  â””â”€â”€ â†’ sea_saw_crm (Company, Contact)
```

**æ•°æ®åº“è¡¨**:
- `sea_saw_pipeline_pipeline`

**ç‰¹æ®Šè€ƒè™‘**:
- Pipeline æ˜¯ä¸šåŠ¡æµç¨‹çš„æ ¸å¿ƒç¼–æ’å™¨
- ä¾èµ–æ‰€æœ‰ä¸šåŠ¡æ¨¡å—ï¼Œéœ€è¦æœ€åè¿ç§»
- åŒ…å«å¤æ‚çš„çŠ¶æ€åŒæ­¥é€»è¾‘
- éœ€è¦ä»”ç»†æµ‹è¯•å„æ¨¡å—ä¹‹é—´çš„è”åŠ¨

**å®æ–½æ­¥éª¤**:
1. ç¡®ä¿ Phase 2 æ‰€æœ‰åº”ç”¨éƒ½å·²å®Œæˆ
2. åˆ›å»º `sea_saw_pipeline` åº”ç”¨ç»“æ„
3. å¤åˆ¶ `Pipeline` æ¨¡å‹å’Œæšä¸¾
4. æ›´æ–°æ‰€æœ‰å¤–é”®å¼•ç”¨ï¼ˆæŒ‡å‘æ–°çš„åº”ç”¨ï¼‰
5. å¤åˆ¶ `PipelineModelManager`ï¼ˆå¤„ç†è·¨åº”ç”¨çš„ CRUD é€»è¾‘ï¼‰
6. å¤åˆ¶çŠ¶æ€åŒæ­¥æœåŠ¡ï¼ˆ`PipelineStateService`, `StatusSyncService`ï¼‰
7. è¿ç§»ä¿¡å·å¤„ç†å™¨ï¼ˆ`signals.py`ï¼‰
8. å¤åˆ¶åºåˆ—åŒ–å™¨ï¼ˆåŒ…å«æ‰€æœ‰å­è®¢å•çš„åºåˆ—åŒ–å™¨ï¼‰
9. å¤åˆ¶è§†å›¾å’Œæƒé™
10. åˆ›å»º URLs é…ç½®
11. æ›´æ–° `INSTALLED_APPS` å’Œä¸» URL è·¯ç”±
12. æ›´æ–°æ‰€æœ‰ `Pipeline` å¼•ç”¨
13. åˆ é™¤ `sea_saw_crm` ä¸­çš„æ—§ä»£ç 
14. é‡æ–°åˆ›å»ºè¿ç§»å¹¶åº”ç”¨
15. å…¨é¢æµ‹è¯•ä¸šåŠ¡æµç¨‹ï¼ˆåˆ›å»ºè®¢å• â†’ ç”Ÿäº§ â†’ é‡‡è´­ â†’ å‡ºåº“ â†’ æ”¯ä»˜ï¼‰

---

### Phase 4: æ¸…ç† sea_saw_crmï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰

#### 4.1 æ¸…ç†å’Œé‡æ„ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰
**è®¡åˆ’æ—¶é—´**: Phase 4
**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹

**ç›®æ ‡**:
å°† `sea_saw_crm` ç²¾ç®€ä¸ºæ ¸å¿ƒ CRM åŠŸèƒ½ï¼Œåªä¿ç•™å®¢æˆ·å…³ç³»ç®¡ç†ç›¸å…³çš„æ¨¡å‹ã€‚

**ä¿ç•™å†…å®¹**:
- æ¨¡å‹ï¼š`Company`, `Contact`, `Supplier`, `Contract`, `Field`
- åŸºç¡€åºåˆ—åŒ–å™¨ï¼š`BaseSerializer` åŠç›¸å…³ mixins
- è§†å›¾ï¼šå…¬å¸ã€è”ç³»äººã€ä¾›åº”å•†ç›¸å…³çš„ ViewSet
- æƒé™ï¼šåŸºç¡€æƒé™ç±»
- å…ƒæ•°æ®ï¼šåŸºç¡€å…ƒæ•°æ®ç±»
- Django Admin é…ç½®

**åˆ é™¤å†…å®¹**:
- âœ… Order ç›¸å…³ï¼ˆå·²è¿ç§»åˆ° sea_saw_salesï¼‰
- âœ… ProductionOrder ç›¸å…³ï¼ˆå·²è¿ç§»åˆ° sea_saw_productionï¼‰
- âš ï¸ PurchaseOrder ç›¸å…³ï¼ˆæ­£åœ¨è¿ç§»åˆ° sea_saw_procurementï¼‰
- ğŸ“‹ OutboundOrder ç›¸å…³ï¼ˆå¾…è¿ç§»åˆ° sea_saw_warehouseï¼‰
- ğŸ“‹ Payment ç›¸å…³ï¼ˆå¾…è¿ç§»åˆ° sea_saw_financeï¼‰
- ğŸ“‹ Pipeline ç›¸å…³ï¼ˆå¾…è¿ç§»åˆ° sea_saw_pipelineï¼‰

**é‡æ„ä»»åŠ¡**:
1. æ•´ç† `models/__init__.py`ï¼ˆåªå¯¼å‡º CRM æ ¸å¿ƒæ¨¡å‹ï¼‰
2. æ•´ç† `serializers/__init__.py`ï¼ˆåªå¯¼å‡ºåŸºç¡€åºåˆ—åŒ–å™¨ï¼‰
3. æ•´ç† `views/__init__.py`ï¼ˆåªå¯¼å‡º CRM è§†å›¾ï¼‰
4. æ•´ç† `admin/__init__.py`ï¼ˆåªå¯¼å‡º CRM ç®¡ç†ç•Œé¢ï¼‰
5. æ•´ç† `urls.py`ï¼ˆåªä¿ç•™ CRM ç«¯ç‚¹ï¼‰
6. æ›´æ–° API æ–‡æ¡£
7. æ¸…ç†æœªä½¿ç”¨çš„å¯¼å…¥å’Œä¾èµ–

**éªŒè¯**:
- ç¡®ä¿ `/api/sea-saw-crm/` ç«¯ç‚¹åªåŒ…å« CRM åŠŸèƒ½
- ç¡®ä¿æ²¡æœ‰å¾ªç¯ä¾èµ–
- è¿è¡Œæ‰€æœ‰æµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£å¸¸

---

### Phase 5: å‰ç«¯é€‚é…ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰

#### 5.1 æ›´æ–° API ç«¯ç‚¹ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰
**è®¡åˆ’æ—¶é—´**: Phase 5
**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹

**ç›®æ ‡**:
æ›´æ–°å‰ç«¯ä»£ç ä»¥ä½¿ç”¨æ–°çš„ API ç«¯ç‚¹ã€‚

**æ–‡ä»¶**: `sea-saw-app/constants/Constants.ts`

**å½“å‰ç«¯ç‚¹**:
```typescript
export const API_ENDPOINTS = {
  order: '/api/sea-saw-crm/orders/',
  production: '/api/sea-saw-crm/production-orders/',
  purchase: '/api/sea-saw-crm/nested-purchase-orders/',
  outbound: '/api/sea-saw-crm/nested-outbound-orders/',
  payment: '/api/sea-saw-crm/payments/',
  pipeline: '/api/sea-saw-crm/pipelines/',
  // ...
};
```

**æ–°ç«¯ç‚¹**:
```typescript
export const API_ENDPOINTS = {
  // Sales
  order: '/api/sales/orders/',
  nestedOrder: '/api/sales/nested-orders/',

  // Production
  production: '/api/production/production-orders/',
  nestedProduction: '/api/production/nested-production-orders/',

  // Procurement
  purchase: '/api/procurement/nested-purchase-orders/',

  // Warehouse
  outbound: '/api/warehouse/nested-outbound-orders/',

  // Finance
  payment: '/api/finance/payments/',
  nestedPayment: '/api/finance/nested-payments/',

  // Pipeline
  pipeline: '/api/pipeline/pipelines/',

  // CRM (unchanged)
  company: '/api/sea-saw-crm/companies/',
  contact: '/api/sea-saw-crm/contacts/',
  // ...
};
```

**å®æ–½æ­¥éª¤**:
1. æ›´æ–° `Constants.ts` ä¸­çš„æ‰€æœ‰ API ç«¯ç‚¹
2. æœç´¢å¹¶æ›¿æ¢å‰ç«¯ä»£ç ä¸­çš„ç¡¬ç¼–ç ç«¯ç‚¹
3. æ›´æ–° `useDataService` hook çš„ URL æ˜ å°„
4. æ›´æ–°æ‰€æœ‰é¡µé¢ç»„ä»¶ä¸­çš„ `getViewSet` è°ƒç”¨
5. æµ‹è¯•æ‰€æœ‰ CRUD æ“ä½œ
6. æ›´æ–°å‰ç«¯æ–‡æ¡£

**æµ‹è¯•æ¸…å•**:
- [ ] è®¢å•åˆ—è¡¨é¡µé¢åŠ è½½æ­£å¸¸
- [ ] åˆ›å»ºæ–°è®¢å•åŠŸèƒ½æ­£å¸¸
- [ ] ç¼–è¾‘è®¢å•åŠŸèƒ½æ­£å¸¸
- [ ] åˆ é™¤è®¢å•åŠŸèƒ½æ­£å¸¸
- [ ] ç”Ÿäº§è®¢å•ç›¸å…³æ“ä½œæ­£å¸¸
- [ ] é‡‡è´­è®¢å•ç›¸å…³æ“ä½œæ­£å¸¸
- [ ] å‡ºåº“è®¢å•ç›¸å…³æ“ä½œæ­£å¸¸
- [ ] æ”¯ä»˜è®°å½•ç›¸å…³æ“ä½œæ­£å¸¸
- [ ] Pipeline æµç¨‹æ­£å¸¸
- [ ] é™„ä»¶ä¸Šä¼ ä¸‹è½½æ­£å¸¸

---

### Phase 6: æ•°æ®åº“è¿ç§»å’Œå…¨é¢æµ‹è¯•ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰

#### 6.1 ç”Ÿäº§ç¯å¢ƒè¿ç§»ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰
**è®¡åˆ’æ—¶é—´**: Phase 6
**çŠ¶æ€**: ğŸ“‹ å¾…å¼€å§‹

**ç›®æ ‡**:
åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®‰å…¨åœ°è¿ç§»æ•°æ®åº“ã€‚

**è¿ç§»ç­–ç•¥**:
ç”±äºæ˜¯æ•°æ®åº“è¡¨é‡å‘½åï¼ˆè€Œéæ•°æ®è¿ç§»ï¼‰ï¼Œå»ºè®®é‡‡ç”¨**é‡å»ºæ•°æ®åº“**çš„æ–¹å¼ï¼š

**æ–¹æ¡ˆ Aï¼šé‡å»ºæ•°æ®åº“ï¼ˆæ¨èç”¨äºå¼€å‘/æµ‹è¯•ç¯å¢ƒï¼‰**
```bash
# 1. å¤‡ä»½æ•°æ®åº“
pg_dump sea_saw_db > backup_$(date +%Y%m%d_%H%M%S).sql

# 2. åˆ é™¤æ‰€æœ‰è¿ç§»æ–‡ä»¶
find . -path "*/migrations/*.py" -not -name "__init__.py" -delete

# 3. åˆ é™¤æ•°æ®åº“
dropdb sea_saw_db
createdb sea_saw_db

# 4. é‡æ–°åˆ›å»ºè¿ç§»
python manage.py makemigrations

# 5. åº”ç”¨è¿ç§»
python manage.py migrate

# 6. åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# 7. é‡æ–°å¯¼å…¥æ•°æ®ï¼ˆå¦‚éœ€è¦ï¼‰
```

**æ–¹æ¡ˆ Bï¼šä¿ç•™æ•°æ®è¿ç§»ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰**
```bash
# 1. å¤‡ä»½æ•°æ®åº“
pg_dump sea_saw_db > backup_$(date +%Y%m%d_%H%M%S).sql

# 2. åˆ›å»ºè¿ç§»è„šæœ¬ï¼Œé‡å‘½åè¡¨
# ç¤ºä¾‹ï¼šå°† sea_saw_crm_order é‡å‘½åä¸º sea_saw_sales_order
python manage.py makemigrations --empty sea_saw_sales

# 3. ç¼–è¾‘è¿ç§»æ–‡ä»¶ï¼Œæ·»åŠ  RenameModel æ“ä½œ
# operations = [
#     migrations.RenameModel(
#         old_name='Order',
#         new_name='Order',
#     ),
# ]

# 4. åº”ç”¨è¿ç§»
python manage.py migrate

# 5. éªŒè¯æ•°æ®å®Œæ•´æ€§
python manage.py check
```

**æ³¨æ„äº‹é¡¹**:
- âš ï¸ ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…å…ˆå¤‡ä»½æ•°æ®åº“
- âš ï¸ åœ¨æµ‹è¯•ç¯å¢ƒå®Œæ•´éªŒè¯åå†åœ¨ç”Ÿäº§ç¯å¢ƒæ‰§è¡Œ
- âš ï¸ å‡†å¤‡å›æ»šæ–¹æ¡ˆ
- âš ï¸ é€‰æ‹©ä¸šåŠ¡ä½å³°æœŸæ‰§è¡Œ

#### 6.2 å…¨é¢æµ‹è¯•ï¼ˆå¾…å®æ–½ ğŸ“‹ï¼‰

**å•å…ƒæµ‹è¯•**:
```bash
# æµ‹è¯•æ‰€æœ‰åº”ç”¨
python manage.py test

# æµ‹è¯•ç‰¹å®šåº”ç”¨
python manage.py test sea_saw_sales
python manage.py test sea_saw_production
python manage.py test sea_saw_procurement
python manage.py test sea_saw_warehouse
python manage.py test sea_saw_finance
python manage.py test sea_saw_pipeline
```

**é›†æˆæµ‹è¯•**:
- [ ] å®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•ï¼ˆåˆ›å»ºè®¢å• â†’ Pipeline â†’ ç”Ÿäº§ â†’ é‡‡è´­ â†’ å‡ºåº“ â†’ æ”¯ä»˜ï¼‰
- [ ] è·¨åº”ç”¨å¼•ç”¨æµ‹è¯•
- [ ] æƒé™æ§åˆ¶æµ‹è¯•
- [ ] é™„ä»¶ä¸Šä¼ ä¸‹è½½æµ‹è¯•
- [ ] çŠ¶æ€åŒæ­¥æµ‹è¯•

**æ€§èƒ½æµ‹è¯•**:
- [ ] API å“åº”æ—¶é—´ï¼ˆç¡®ä¿æ²¡æœ‰æ€§èƒ½é€€åŒ–ï¼‰
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼ˆæ£€æŸ¥ N+1 æŸ¥è¯¢é—®é¢˜ï¼‰
- [ ] å¹¶å‘æµ‹è¯•

**å‰ç«¯æµ‹è¯•**:
- [ ] æ‰€æœ‰é¡µé¢æ­£å¸¸åŠ è½½
- [ ] CRUD æ“ä½œåŠŸèƒ½æ­£å¸¸
- [ ] è¡¨å•éªŒè¯æ­£å¸¸
- [ ] æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æ­£å¸¸
- [ ] æƒé™æ§åˆ¶æ­£å¸¸

---

## ä¾èµ–å…³ç³»å›¾

### åº”ç”¨ä¾èµ–å…³ç³»

```mermaid
graph TD
    Base[sea_saw_base<br/>åŸºç¡€æ¨¡å‹]
    Attachment[sea_saw_attachment<br/>é™„ä»¶ç®¡ç†]
    Auth[sea_saw_auth<br/>è®¤è¯]
    CRM[sea_saw_crm<br/>CRMæ ¸å¿ƒ]

    Sales[sea_saw_sales<br/>é”€å”®è®¢å•]
    Production[sea_saw_production<br/>ç”Ÿäº§è®¢å•]
    Procurement[sea_saw_procurement<br/>é‡‡è´­è®¢å•]
    Warehouse[sea_saw_warehouse<br/>ä»“åº“ç®¡ç†]
    Finance[sea_saw_finance<br/>è´¢åŠ¡æ”¯ä»˜]
    Pipeline[sea_saw_pipeline<br/>æµç¨‹ç¼–æ’]

    %% åŸºç¡€ä¾èµ–
    Attachment --> Base
    Auth --> Base
    CRM --> Base

    %% ä¸šåŠ¡æ¨¡å—ä¾èµ–åŸºç¡€
    Sales --> Base
    Sales --> Attachment
    Sales --> CRM

    Production --> Base
    Production --> Attachment
    Production --> Sales
    Production --> CRM

    Procurement --> Base
    Procurement --> Attachment
    Procurement --> Sales
    Procurement --> CRM

    Warehouse --> Base
    Warehouse --> Attachment
    Warehouse --> Sales
    Warehouse --> Production
    Warehouse --> CRM

    Finance --> Base
    Finance --> Sales
    Finance --> Production
    Finance --> Procurement
    Finance --> Warehouse

    %% Pipeline ä¾èµ–æ‰€æœ‰ä¸šåŠ¡æ¨¡å—
    Pipeline --> Base
    Pipeline --> Sales
    Pipeline --> Production
    Pipeline --> Procurement
    Pipeline --> Warehouse
    Pipeline --> Finance
    Pipeline --> CRM

    style Base fill:#e1f5e1
    style Attachment fill:#e1f5e1
    style Auth fill:#e1f5e1
    style CRM fill:#fff3cd
    style Sales fill:#cfe2ff
    style Production fill:#cfe2ff
    style Procurement fill:#cfe2ff
    style Warehouse fill:#cfe2ff
    style Finance fill:#cfe2ff
    style Pipeline fill:#f8d7da
```

### å›¾ä¾‹è¯´æ˜

- **ç»¿è‰²** (sea_saw_base, sea_saw_attachment, sea_saw_auth): åŸºç¡€è®¾æ–½åº”ç”¨
- **é»„è‰²** (sea_saw_crm): æ ¸å¿ƒ CRM åº”ç”¨
- **è“è‰²** (sales, production, procurement, warehouse, finance): ä¸šåŠ¡æ¨¡å—åº”ç”¨
- **çº¢è‰²** (pipeline): æµç¨‹ç¼–æ’åº”ç”¨ï¼ˆæœ€å¤æ‚ï¼Œä¾èµ–æœ€å¤šï¼‰

### ä¾èµ–åŸåˆ™

1. **åŸºç¡€åº”ç”¨** (sea_saw_base, sea_saw_attachment): ä¸ä¾èµ–ä»»ä½•ä¸šåŠ¡åº”ç”¨
2. **CRM åº”ç”¨** (sea_saw_crm): åªä¾èµ–åŸºç¡€åº”ç”¨
3. **ä¸šåŠ¡åº”ç”¨** (sales, production, etc.): ä¾èµ–åŸºç¡€åº”ç”¨å’Œ CRMï¼Œå¯èƒ½ç›¸äº’ä¾èµ–
4. **ç¼–æ’åº”ç”¨** (pipeline): ä¾èµ–æ‰€æœ‰å…¶ä»–åº”ç”¨ï¼Œæœ€åè¿ç§»

---

## å®æ–½é˜¶æ®µ

### æ—¶é—´çº¿

| é˜¶æ®µ | çŠ¶æ€ | å¼€å§‹æ—¶é—´ | å®Œæˆæ—¶é—´ | è´Ÿè´£äºº |
|------|------|----------|----------|--------|
| Phase 1: åŸºç¡€è®¾æ–½ | âœ… å·²å®Œæˆ | - | - | - |
| Phase 2.1: Sales | âœ… å·²å®Œæˆ | 2026-02-02 | 2026-02-02 | - |
| Phase 2.2: Production | âœ… å·²å®Œæˆ | 2026-02-02 | 2026-02-02 | - |
| Phase 2.3: Procurement | âœ… å·²å®Œæˆ | 2026-02-02 | 2026-02-02 | - |
| Phase 2.4: Warehouse | ğŸ“‹ å¾…å¼€å§‹ | å¾…å®š | å¾…å®š | - |
| Phase 2.5: Finance | ğŸ“‹ å¾…å¼€å§‹ | å¾…å®š | å¾…å®š | - |
| Phase 3: Pipeline | ğŸ“‹ å¾…å¼€å§‹ | å¾…å®š | å¾…å®š | - |
| Phase 4: æ¸…ç† CRM | ğŸ“‹ å¾…å¼€å§‹ | å¾…å®š | å¾…å®š | - |
| Phase 5: å‰ç«¯é€‚é… | ğŸ“‹ å¾…å¼€å§‹ | å¾…å®š | å¾…å®š | - |
| Phase 6: å…¨é¢æµ‹è¯• | ğŸ“‹ å¾…å¼€å§‹ | å¾…å®š | å¾…å®š | - |

---

## å½“å‰è¿›åº¦

### âœ… Phase 2.1: sea_saw_sales - å·²å®Œæˆ

**å®Œæˆæ—¥æœŸ**: 2026-02-02

**å®Œæˆå†…å®¹**:
- âœ… åˆ›å»º sea_saw_sales åº”ç”¨ç»“æ„
- âœ… è¿ç§» Order å’Œ OrderItem æ¨¡å‹
- âœ… è¿ç§» OrderModelManager
- âœ… è¿ç§»æ‰€æœ‰åºåˆ—åŒ–å™¨ï¼ˆnested å’Œ standaloneï¼‰
- âœ… è¿ç§»è§†å›¾ï¼ˆOrderViewSet, NestedOrderViewSetï¼‰
- âœ… è¿ç§» Django Admin é…ç½®
- âœ… åˆ›å»º URLs é…ç½®
- âœ… æ›´æ–° INSTALLED_APPS å’Œä¸» URL è·¯ç”±
- âœ… æ›´æ–°æ‰€æœ‰ Order å¼•ç”¨ï¼ˆmodels, serializers, views, admin, signals, etc.ï¼‰
- âœ… åˆ é™¤ sea_saw_crm ä¸­çš„æ—§ä»£ç 
- âœ… é‡æ–°åˆ›å»ºè¿ç§»å¹¶åº”ç”¨
- âœ… éªŒè¯æ•°æ®åº“è¡¨å·²åˆ›å»º

**æ•°æ®åº“éªŒè¯**:
```bash
$ python manage.py showmigrations sea_saw_sales
sea_saw_sales
 [X] 0001_initial

$ sqlite3 db.sqlite3
sqlite> .tables
sea_saw_sales_order
sea_saw_sales_orderitem
```

---

### âœ… Phase 2.2: sea_saw_production - å·²å®Œæˆ

**å®Œæˆæ—¥æœŸ**: 2026-02-02

**å®Œæˆå†…å®¹**:
- âœ… åˆ›å»º sea_saw_production åº”ç”¨ç»“æ„
- âœ… è¿ç§» ProductionOrder å’Œ ProductionItem æ¨¡å‹
- âœ… è¿ç§»æ‰€æœ‰åºåˆ—åŒ–å™¨ï¼ˆnested å’Œ standaloneï¼‰
- âœ… è¿ç§»è§†å›¾ï¼ˆProductionOrderViewSet, NestedProductionOrderViewSetï¼‰
- âœ… è¿ç§»å·¥ä½œæµæ“ä½œï¼ˆstart_production, finish_production, report_issue, resolve_issueï¼‰
- âœ… è¿ç§» Django Admin é…ç½®
- âœ… åˆ›å»º URLs é…ç½®
- âœ… æ›´æ–° INSTALLED_APPS å’Œä¸» URL è·¯ç”±
- âœ… æ›´æ–°æ‰€æœ‰ ProductionOrder å¼•ç”¨
- âœ… åˆ é™¤ sea_saw_crm ä¸­çš„æ—§ä»£ç 
- âœ… é‡æ–°åˆ›å»ºè¿ç§»å¹¶åº”ç”¨
- âœ… éªŒè¯æ•°æ®åº“è¡¨å·²åˆ›å»º

**æ•°æ®åº“éªŒè¯**:
```bash
$ python manage.py showmigrations sea_saw_production
sea_saw_production
 [X] 0001_initial

$ sqlite3 db.sqlite3
sqlite> .tables
sea_saw_production_productionorder
sea_saw_production_productionitem
```

---

### âœ… Phase 2.3: sea_saw_procurement - å·²å®Œæˆ

**å®Œæˆæ—¥æœŸ**: 2026-02-02

**å®Œæˆå†…å®¹**:
- âœ… åˆ›å»º sea_saw_procurement åº”ç”¨ç»“æ„
- âœ… è¿ç§» PurchaseOrder å’Œ PurchaseItem æ¨¡å‹
- âœ… è¿ç§»æ‰€æœ‰åºåˆ—åŒ–å™¨ï¼ˆnested å’Œ standaloneï¼‰
- âœ… è¿ç§»è§†å›¾ï¼ˆNestedPurchaseOrderViewSetï¼‰
- âœ… è¿ç§» Django Admin é…ç½®
- âœ… åˆ›å»º URLs é…ç½®
- âœ… æ›´æ–° INSTALLED_APPS å’Œä¸» URL è·¯ç”±
- âœ… æ›´æ–°æ‰€æœ‰ PurchaseOrder å¼•ç”¨
- âœ… ä¿®å¤ sea_saw_crm/views/payment_view.py ä¸­çš„å¯¼å…¥é”™è¯¯
- âœ… ä¿®å¤ sea_saw_procurement/views/purchase_view.py ä¸­çš„å¯¼å…¥é”™è¯¯
- âœ… åˆ é™¤ sea_saw_crm ä¸­çš„æ—§ä»£ç 
- âœ… é‡æ–°åˆ›å»ºè¿ç§»å¹¶åº”ç”¨
- âœ… éªŒè¯æ•°æ®åº“è¡¨å·²åˆ›å»º

**æ•°æ®åº“éªŒè¯**:
```bash
$ python manage.py showmigrations sea_saw_procurement
sea_saw_procurement
 [X] 0001_initial

$ sqlite3 db.sqlite3
sqlite> .tables
sea_saw_procurement_purchaseorder
sea_saw_procurement_purchaseitem
```

**ä¿®å¤çš„å¯¼å…¥é—®é¢˜**:
1. âœ… `sea_saw_crm/views/payment_view.py:24` - æ”¹ä¸ºä» `sea_saw_procurement.serializers` å¯¼å…¥
2. âœ… `sea_saw_procurement/views/purchase_view.py` - ä¿®å¤æ‰€æœ‰ç¼ºå°‘ç‚¹å·çš„å¯¼å…¥é”™è¯¯ï¼š
   - `sea_saw_crmparsers` â†’ `sea_saw_crm.parsers`
   - `sea_saw_crmserializers` â†’ `sea_saw_procurement.serializers`
   - `sea_saw_crmpermissions` â†’ `sea_saw_crm.permissions`
   - `sea_saw_crmmetadata` â†’ `sea_saw_crm.metadata`
   - `sea_saw_crmmixins` â†’ `sea_saw_crm.mixins`

---

### ğŸ“‹ Phase 2.4: sea_saw_warehouse - å¾…å¼€å§‹

**è®¡åˆ’å†…å®¹**: å‚è§ [åº”ç”¨æ‹†åˆ†æ–¹æ¡ˆ - 2.4 sea_saw_warehouse](#24-sea_saw_warehouseå¾…å®æ–½-)

---

### ğŸ“‹ Phase 2.5: sea_saw_finance - å¾…å¼€å§‹

**è®¡åˆ’å†…å®¹**: å‚è§ [åº”ç”¨æ‹†åˆ†æ–¹æ¡ˆ - 2.5 sea_saw_finance](#25-sea_saw_financeå¾…å®æ–½-)

---

### âœ… Phase 3: sea_saw_pipeline - å·²å®Œæˆ

**çŠ¶æ€**: âœ… å®Œæˆäº 2026-02-02

**å·²å®Œæˆä»»åŠ¡**:
- âœ… åˆ›å»º sea_saw_pipeline åº”ç”¨
- âœ… è¿ç§» Pipeline æ¨¡å‹åŠå…¶æšä¸¾ç±»å‹ï¼ˆPipelineStatusType, PipelineType, ActiveEntityTypeï¼‰
- âœ… è¿ç§» PipelineModelManager å’Œæ‰€æœ‰è‡ªå®šä¹‰ç®¡ç†å™¨æ–¹æ³•
- âœ… è¿ç§» Pipeline åºåˆ—åŒ–å™¨ï¼ˆé’ˆå¯¹ä¸åŒè§’è‰²çš„åºåˆ—åŒ–å™¨ï¼‰
- âœ… è¿ç§» PipelineViewSet åŠæ‰€æœ‰è‡ªå®šä¹‰ actions
- âœ… è¿ç§» Pipeline æƒé™ç±»ï¼ˆPipelineAdminPermission, PipelineSalePermission, etc.ï¼‰
- âœ… è¿ç§»çŠ¶æ€æœºé…ç½®å’Œå¸¸é‡
- âœ… è¿ç§» Pipeline æœåŠ¡å±‚ï¼ˆPipelineService, PipelineStateService, StatusSyncServiceï¼‰
- âœ… è¿ç§»ä¿¡å·å¤„ç†å™¨ï¼ˆsignal handlersï¼‰
- âœ… ä¿®å¤æ‰€æœ‰å¯¼å…¥è¯­å¥é”™è¯¯
- âœ… æ›´æ–°è·¨åº”ç”¨å¼•ç”¨ï¼ˆsales, production, procurement, warehouse, financeï¼‰
- âœ… ä» sea_saw_crm ä¸­ç§»é™¤æ‰€æœ‰æ—§ Pipeline ä»£ç 
- âœ… æ›´æ–° URL è·¯ç”±åˆ° `/api/pipeline/`
- âœ… åˆ›å»ºå¹¶åº”ç”¨æ•°æ®åº“è¿ç§»
- âœ… éªŒè¯æ•°æ®åº“è¡¨åˆ›å»ºæˆåŠŸï¼ˆsea_saw_pipeline_pipelineï¼‰
- âœ… éªŒè¯ API ç«¯ç‚¹æ­£å¸¸å·¥ä½œ

**æ•°æ®åº“éªŒè¯**:
```bash
$ python manage.py shell -c "from sea_saw_pipeline.models import Pipeline; print('Pipeline model imported successfully')"
Pipeline model imported successfully

$ sqlite3 db.sqlite3
sqlite> .tables
sea_saw_pipeline_pipeline
```

**API ç«¯ç‚¹**:
- `/api/pipeline/` - Pipeline åˆ—è¡¨å’Œåˆ›å»º
- `/api/pipeline/{id}/` - Pipeline è¯¦æƒ…ã€æ›´æ–°ã€åˆ é™¤
- `/api/pipeline/{id}/transition/` - çŠ¶æ€è½¬æ¢
- `/api/pipeline/{id}/create_order/` - åˆ›å»ºè®¢å•
- `/api/pipeline/{id}/create_production/` - åˆ›å»ºç”Ÿäº§è®¢å•
- `/api/pipeline/{id}/create_purchase/` - åˆ›å»ºé‡‡è´­è®¢å•
- `/api/pipeline/{id}/create_outbound/` - åˆ›å»ºå‡ºåº“è®¢å•
- `/api/pipeline/{id}/update_amounts/` - æ›´æ–°é‡‘é¢

**ä¿®å¤çš„å¯¼å…¥é—®é¢˜**:
1. âœ… ä¿®å¤ `pipeline_view.py` ä¸­çš„å¯¼å…¥è¯­æ³•é”™è¯¯
2. âœ… å°† `PipelineStatus` å’Œ `PipelineTypeAccess` æ·»åŠ åˆ° constants å¯¼å‡º
3. âœ… æ›´æ–°æ‰€æœ‰åº”ç”¨ä¸­çš„åºåˆ—åŒ–å™¨å¯¼å…¥ï¼š
   - `sea_saw_sales/views/order_view.py`
   - `sea_saw_production/views/production_view.py`
   - `sea_saw_procurement/views/purchase_view.py`
   - `sea_saw_warehouse/views/outbound_view.py`
   - `sea_saw_finance/views/payment_view.py`
4. âœ… æ›´æ–° `sea_saw_finance.Payment` æ¨¡å‹çš„å¤–é”®å¼•ç”¨
5. âœ… æ¸…ç† sea_saw_crm ä¸­çš„æ‰€æœ‰ Pipeline ç›¸å…³ä»£ç 

---

## æµ‹è¯•éªŒè¯æ¸…å•

### å•å…ƒæµ‹è¯•

#### sea_saw_sales
- [ ] Order æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] OrderItem æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] OrderModelManager çš„è‡ªå®šä¹‰æ–¹æ³•
- [ ] åºåˆ—åŒ–å™¨éªŒè¯é€»è¾‘
- [ ] ViewSet CRUD æ“ä½œ

#### sea_saw_production
- [ ] ProductionOrder æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] ProductionItem æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] ç”Ÿäº§çŠ¶æ€æµè½¬ï¼ˆdraft â†’ active â†’ completedï¼‰
- [ ] å·¥ä½œæµæ“ä½œï¼ˆstart_production, finish_production, etc.ï¼‰
- [ ] åºåˆ—åŒ–å™¨éªŒè¯é€»è¾‘
- [ ] ViewSet CRUD æ“ä½œ

#### sea_saw_procurement
- [ ] PurchaseOrder æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] PurchaseItem æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] é‡‡è´­å•å·è‡ªåŠ¨ç”Ÿæˆ
- [ ] æ€»é‡‘é¢è‡ªåŠ¨è®¡ç®—
- [ ] åºåˆ—åŒ–å™¨éªŒè¯é€»è¾‘
- [ ] ViewSet CRUD æ“ä½œ

#### sea_saw_warehouse
- [ ] OutboundOrder æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] OutboundItem æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] å‡ºåº“çŠ¶æ€æµè½¬
- [ ] åºåˆ—åŒ–å™¨éªŒè¯é€»è¾‘
- [ ] ViewSet CRUD æ“ä½œ

#### sea_saw_finance
- [ ] Payment æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] GenericForeignKey å…³è”æµ‹è¯•
- [ ] æ”¯ä»˜çŠ¶æ€éªŒè¯
- [ ] åºåˆ—åŒ–å™¨éªŒè¯é€»è¾‘
- [ ] ViewSet CRUD æ“ä½œ

#### sea_saw_pipeline
- [ ] Pipeline æ¨¡å‹åˆ›å»ºå’Œä¿å­˜
- [ ] PipelineModelManager æ–¹æ³•æµ‹è¯•
- [ ] çŠ¶æ€åŒæ­¥æœåŠ¡æµ‹è¯•
- [ ] ä¿¡å·å¤„ç†å™¨æµ‹è¯•
- [ ] åºåˆ—åŒ–å™¨éªŒè¯é€»è¾‘
- [ ] ViewSet CRUD æ“ä½œ

---

### é›†æˆæµ‹è¯•

#### å®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•
1. [ ] **åˆ›å»ºé”€å”®è®¢å•**
   - åˆ›å»ºå®¢æˆ·ï¼ˆCompanyï¼‰
   - åˆ›å»ºè”ç³»äººï¼ˆContactï¼‰
   - åˆ›å»ºé”€å”®è®¢å•ï¼ˆOrderï¼‰
   - æ·»åŠ è®¢å•æ˜ç»†ï¼ˆOrderItemï¼‰

2. [ ] **åˆ›å»º Pipeline**
   - ä»é”€å”®è®¢å•åˆ›å»º Pipeline
   - éªŒè¯ Pipeline çŠ¶æ€
   - éªŒè¯å…³è”å…³ç³»

3. [ ] **åˆ›å»ºç”Ÿäº§è®¢å•**
   - ä» Pipeline åˆ›å»º ProductionOrder
   - éªŒè¯ç”Ÿäº§è®¢å•æ˜ç»†è‡ªåŠ¨å¤åˆ¶
   - éªŒè¯ç”Ÿäº§çŠ¶æ€æµè½¬
   - æµ‹è¯•å·¥ä½œæµæ“ä½œ

4. [ ] **åˆ›å»ºé‡‡è´­è®¢å•**
   - ä» Pipeline åˆ›å»º PurchaseOrder
   - é€‰æ‹©ä¾›åº”å•†ï¼ˆSupplierï¼‰
   - éªŒè¯é‡‡è´­è®¢å•æ˜ç»†
   - éªŒè¯æ€»é‡‘é¢è®¡ç®—

5. [ ] **åˆ›å»ºå‡ºåº“è®¢å•**
   - ä» Pipeline åˆ›å»º OutboundOrder
   - éªŒè¯å‡ºåº“è®¢å•æ˜ç»†
   - éªŒè¯åº“å­˜å…³è”

6. [ ] **åˆ›å»ºæ”¯ä»˜è®°å½•**
   - ä¸ºè®¢å•åˆ›å»ºæ”¯ä»˜è®°å½•
   - éªŒè¯ GenericForeignKey å…³è”
   - éªŒè¯æ”¯ä»˜é‡‘é¢å’ŒçŠ¶æ€

7. [ ] **çŠ¶æ€åŒæ­¥æµ‹è¯•**
   - ä¿®æ”¹å­è®¢å•çŠ¶æ€
   - éªŒè¯ Pipeline çŠ¶æ€è‡ªåŠ¨åŒæ­¥
   - éªŒè¯ä¿¡å·å¤„ç†å™¨å·¥ä½œæ­£å¸¸

#### è·¨åº”ç”¨å¼•ç”¨æµ‹è¯•
- [ ] Order â†’ Company/Contact å¤–é”®
- [ ] ProductionOrder â†’ Pipeline å¤–é”®
- [ ] ProductionOrder â†’ Order å¤–é”®ï¼ˆlegacyï¼‰
- [ ] ProductionItem â†’ OrderItem å¤–é”®
- [ ] PurchaseOrder â†’ Pipeline å¤–é”®
- [ ] PurchaseOrder â†’ Order å¤–é”®ï¼ˆlegacyï¼‰
- [ ] PurchaseOrder â†’ Supplier å¤–é”®
- [ ] PurchaseItem â†’ OrderItem å¤–é”®
- [ ] OutboundOrder â†’ Pipeline å¤–é”®
- [ ] OutboundItem â†’ OrderItem å¤–é”®
- [ ] OutboundItem â†’ ProductionItem å¤–é”®
- [ ] Payment â†’ Order/ProductionOrder/PurchaseOrder/OutboundOrder (GenericForeignKey)
- [ ] Pipeline â†’ Order å¤–é”®

#### é™„ä»¶ç®¡ç†æµ‹è¯•
- [ ] ä¸º Order ä¸Šä¼ é™„ä»¶
- [ ] ä¸º ProductionOrder ä¸Šä¼ é™„ä»¶
- [ ] ä¸º PurchaseOrder ä¸Šä¼ é™„ä»¶
- [ ] ä¸º OutboundOrder ä¸Šä¼ é™„ä»¶
- [ ] ä¸‹è½½é™„ä»¶ï¼ˆæƒé™æ§åˆ¶ï¼‰
- [ ] åˆ é™¤é™„ä»¶

#### æƒé™æ§åˆ¶æµ‹è¯•
- [ ] ADMIN è§’è‰²æƒé™ï¼ˆå®Œå…¨è®¿é—®ï¼‰
- [ ] SALE è§’è‰²æƒé™ï¼ˆé”€å”®ç›¸å…³ï¼‰
- [ ] PRODUCTION è§’è‰²æƒé™ï¼ˆç”Ÿäº§ç›¸å…³ï¼‰
- [ ] WAREHOUSE è§’è‰²æƒé™ï¼ˆä»“åº“ç›¸å…³ï¼‰
- [ ] è·¨è§’è‰²è®¿é—®é™åˆ¶

---

### API æµ‹è¯•

#### ç«¯ç‚¹å¯è®¿é—®æ€§
- [ ] `GET /api/sales/orders/` - åˆ—è¡¨
- [ ] `POST /api/sales/orders/` - åˆ›å»º
- [ ] `GET /api/sales/orders/{id}/` - è¯¦æƒ…
- [ ] `PUT /api/sales/orders/{id}/` - æ›´æ–°
- [ ] `DELETE /api/sales/orders/{id}/` - åˆ é™¤
- [ ] `GET /api/sales/nested-orders/` - åµŒå¥—åˆ—è¡¨
- [ ] `POST /api/sales/nested-orders/` - åµŒå¥—åˆ›å»º
- [ ] `GET /api/production/production-orders/` - åˆ—è¡¨
- [ ] `POST /api/production/production-orders/` - åˆ›å»º
- [ ] `POST /api/production/production-orders/{id}/start_production/` - å·¥ä½œæµæ“ä½œ
- [ ] `GET /api/procurement/nested-purchase-orders/` - åµŒå¥—åˆ—è¡¨
- [ ] `POST /api/procurement/nested-purchase-orders/` - åµŒå¥—åˆ›å»º
- [ ] `GET /api/warehouse/nested-outbound-orders/` - åµŒå¥—åˆ—è¡¨
- [ ] `GET /api/finance/payments/` - åˆ—è¡¨
- [ ] `GET /api/pipeline/pipelines/` - åˆ—è¡¨

#### åºåˆ—åŒ–å™¨æµ‹è¯•
- [ ] OPTIONS è¯·æ±‚è¿”å›æ­£ç¡®çš„å­—æ®µå…ƒæ•°æ®
- [ ] å¿…å¡«å­—æ®µéªŒè¯
- [ ] å­—æ®µç±»å‹éªŒè¯
- [ ] è‡ªå®šä¹‰éªŒè¯é€»è¾‘
- [ ] åµŒå¥—åºåˆ—åŒ–å™¨ï¼ˆåŒ…å«å­æ˜ç»†ï¼‰
- [ ] åªè¯»å­—æ®µæ­£ç¡®è®¾ç½®

#### è¿‡æ»¤å’Œæ’åº
- [ ] æŒ‰çŠ¶æ€è¿‡æ»¤
- [ ] æŒ‰æ—¥æœŸèŒƒå›´è¿‡æ»¤
- [ ] æŒ‰å®¢æˆ·è¿‡æ»¤
- [ ] æŒ‰åˆ›å»ºæ—¶é—´æ’åº
- [ ] æŒ‰æ›´æ–°æ—¶é—´æ’åº
- [ ] æœç´¢åŠŸèƒ½

---

### æ€§èƒ½æµ‹è¯•

#### æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] æ£€æŸ¥ N+1 æŸ¥è¯¢é—®é¢˜
- [ ] ä½¿ç”¨ `select_related` ä¼˜åŒ–å¤–é”®æŸ¥è¯¢
- [ ] ä½¿ç”¨ `prefetch_related` ä¼˜åŒ–å¤šå¯¹å¤šæŸ¥è¯¢
- [ ] æ·»åŠ å¿…è¦çš„æ•°æ®åº“ç´¢å¼•

#### å“åº”æ—¶é—´
- [ ] åˆ—è¡¨æ¥å£å“åº”æ—¶é—´ < 500ms
- [ ] è¯¦æƒ…æ¥å£å“åº”æ—¶é—´ < 200ms
- [ ] åˆ›å»ºæ¥å£å“åº”æ—¶é—´ < 1s
- [ ] æ›´æ–°æ¥å£å“åº”æ—¶é—´ < 1s

#### å¹¶å‘æµ‹è¯•
- [ ] 100 å¹¶å‘ç”¨æˆ·æ­£å¸¸è®¿é—®
- [ ] 1000 å¹¶å‘ç”¨æˆ·æ­£å¸¸è®¿é—®
- [ ] æ— æ•°æ®åº“æ­»é”

---

### å‰ç«¯æµ‹è¯•

#### é¡µé¢åŠ è½½
- [ ] è®¢å•åˆ—è¡¨é¡µé¢æ­£å¸¸åŠ è½½
- [ ] è®¢å•è¯¦æƒ…é¡µé¢æ­£å¸¸åŠ è½½
- [ ] åˆ›å»ºè®¢å•é¡µé¢æ­£å¸¸åŠ è½½
- [ ] ç¼–è¾‘è®¢å•é¡µé¢æ­£å¸¸åŠ è½½
- [ ] ç”Ÿäº§è®¢å•é¡µé¢æ­£å¸¸åŠ è½½
- [ ] é‡‡è´­è®¢å•é¡µé¢æ­£å¸¸åŠ è½½
- [ ] å‡ºåº“è®¢å•é¡µé¢æ­£å¸¸åŠ è½½
- [ ] æ”¯ä»˜è®°å½•é¡µé¢æ­£å¸¸åŠ è½½
- [ ] Pipeline é¡µé¢æ­£å¸¸åŠ è½½

#### CRUD æ“ä½œ
- [ ] åˆ›å»ºè®¢å•åŠŸèƒ½æ­£å¸¸
- [ ] ç¼–è¾‘è®¢å•åŠŸèƒ½æ­£å¸¸
- [ ] åˆ é™¤è®¢å•åŠŸèƒ½æ­£å¸¸
- [ ] æ·»åŠ è®¢å•æ˜ç»†åŠŸèƒ½æ­£å¸¸
- [ ] ç¼–è¾‘è®¢å•æ˜ç»†åŠŸèƒ½æ­£å¸¸
- [ ] åˆ é™¤è®¢å•æ˜ç»†åŠŸèƒ½æ­£å¸¸

#### æ–‡ä»¶ä¸Šä¼ ä¸‹è½½
- [ ] ä¸Šä¼ é™„ä»¶åŠŸèƒ½æ­£å¸¸
- [ ] ä¸‹è½½é™„ä»¶åŠŸèƒ½æ­£å¸¸
- [ ] é¢„è§ˆé™„ä»¶åŠŸèƒ½æ­£å¸¸
- [ ] åˆ é™¤é™„ä»¶åŠŸèƒ½æ­£å¸¸

#### è¡¨å•éªŒè¯
- [ ] å¿…å¡«å­—æ®µéªŒè¯æ­£å¸¸
- [ ] å­—æ®µæ ¼å¼éªŒè¯æ­£å¸¸
- [ ] è‡ªå®šä¹‰éªŒè¯è§„åˆ™æ­£å¸¸
- [ ] é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºæ­£ç¡®

#### æƒé™æ§åˆ¶
- [ ] ä¸åŒè§’è‰²çœ‹åˆ°çš„èœå•ä¸åŒ
- [ ] ä¸åŒè§’è‰²çš„æ“ä½œæƒé™ä¸åŒ
- [ ] æœªæˆæƒæ“ä½œæ˜¾ç¤ºé”™è¯¯æç¤º

---

## å›æ»šæ–¹æ¡ˆ

### ç´§æ€¥å›æ»š

å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒè¿ç§»åå‘ç°ä¸¥é‡é—®é¢˜ï¼Œå¯ä»¥ç«‹å³å›æ»šåˆ°è¿ç§»å‰çš„çŠ¶æ€ã€‚

#### å‰ææ¡ä»¶
- âœ… å·²å¤‡ä»½æ•°æ®åº“
- âœ… å·²ä¿å­˜æ—§ä»£ç ç‰ˆæœ¬ï¼ˆgit tagï¼‰

#### å›æ»šæ­¥éª¤

**1. åœæ­¢åº”ç”¨æœåŠ¡**
```bash
# åœæ­¢æ‰€æœ‰ç›¸å…³æœåŠ¡
docker-compose -f docker-compose.prod.yml down
```

**2. æ¢å¤æ•°æ®åº“**
```bash
# æ¢å¤æ•°æ®åº“å¤‡ä»½
psql sea_saw_db < backup_20260202_HHMMSS.sql
```

**3. å›æ»šä»£ç **
```bash
# åˆ‡æ¢åˆ°è¿ç§»å‰çš„ git tag
git checkout pre-modularization
```

**4. é‡å¯åº”ç”¨æœåŠ¡**
```bash
docker-compose -f docker-compose.prod.yml up -d
```

**5. éªŒè¯**
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost/health/

# æ£€æŸ¥ API ç«¯ç‚¹
curl http://localhost/api/sea-saw-crm/orders/
```

---

### éƒ¨åˆ†å›æ»š

å¦‚æœåªæ˜¯æŸä¸ªåº”ç”¨æœ‰é—®é¢˜ï¼Œå¯ä»¥åªå›æ»šè¯¥åº”ç”¨ã€‚

**ç¤ºä¾‹ï¼šå›æ»š sea_saw_procurement**

```bash
# 1. ç§»é™¤æ–°åº”ç”¨
sed -i '' '/sea_saw_procurement/d' sea_saw_server/settings.py

# 2. æ¢å¤æ—§ä»£ç 
git checkout pre-modularization -- sea_saw_crm/models/purchase
git checkout pre-modularization -- sea_saw_crm/serializers/purchase
git checkout pre-modularization -- sea_saw_crm/views/purchase_view.py
git checkout pre-modularization -- sea_saw_crm/admin/purchase.py

# 3. æ¢å¤ imports
git checkout pre-modularization -- sea_saw_crm/models/__init__.py
git checkout pre-modularization -- sea_saw_crm/serializers/__init__.py
git checkout pre-modularization -- sea_saw_crm/views/__init__.py
git checkout pre-modularization -- sea_saw_crm/admin/__init__.py
git checkout pre-modularization -- sea_saw_crm/urls.py

# 4. åˆ é™¤è¿ç§»
rm -rf sea_saw_procurement

# 5. é‡æ–°åˆ›å»ºè¿ç§»
rm -f db.sqlite3
find . -path "*/migrations/*.py" -not -name "__init__.py" -delete
python manage.py makemigrations
python manage.py migrate

# 6. é‡å¯æœåŠ¡
docker-compose -f docker-compose.prod.yml restart
```

---

## é™„å½•

### A. å¸¸ç”¨å‘½ä»¤

#### å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver

# åˆ›å»ºè¿ç§»
python manage.py makemigrations

# åº”ç”¨è¿ç§»
python manage.py migrate

# æŸ¥çœ‹è¿ç§»çŠ¶æ€
python manage.py showmigrations

# è¿è¡Œæµ‹è¯•
python manage.py test

# Django Shell
python manage.py shell

# æ£€æŸ¥é¡¹ç›®é…ç½®
python manage.py check

# æ”¶é›†é™æ€æ–‡ä»¶
python manage.py collectstatic --noinput

# åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser
```

#### ç”Ÿäº§ç¯å¢ƒ

```bash
# å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
docker-compose -f docker-compose.prod.yml up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.prod.yml logs -f

# è¿›å…¥å®¹å™¨
docker-compose -f docker-compose.prod.yml exec web bash

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.prod.yml restart

# åœæ­¢æœåŠ¡
docker-compose -f docker-compose.prod.yml down

# é‡æ–°æ„å»º
docker-compose -f docker-compose.prod.yml up -d --build
```

#### æ•°æ®åº“æ“ä½œ

```bash
# å¤‡ä»½æ•°æ®åº“ (PostgreSQL)
pg_dump sea_saw_db > backup_$(date +%Y%m%d_%H%M%S).sql

# æ¢å¤æ•°æ®åº“ (PostgreSQL)
psql sea_saw_db < backup_20260202_HHMMSS.sql

# è¿æ¥æ•°æ®åº“ (SQLite)
sqlite3 db.sqlite3

# è¿æ¥æ•°æ®åº“ (PostgreSQL)
psql -U postgres -h localhost sea_saw_db
```

---

### B. ç›¸å…³æ–‡æ¡£

- [Django æ–‡æ¡£ - åº”ç”¨å’Œé¡¹ç›®](https://docs.djangoproject.com/en/5.1/ref/applications/)
- [Django æ–‡æ¡£ - æ¨¡å‹è¿ç§»](https://docs.djangoproject.com/en/5.1/topics/migrations/)
- [Django æ–‡æ¡£ - æ¨¡å‹å­—æ®µå¼•ç”¨](https://docs.djangoproject.com/en/5.1/ref/models/fields/#django.db.models.ForeignKey)
- [Sea-Saw CLAUDE.md](../CLAUDE.md) - é¡¹ç›®æ€»ä½“æ–‡æ¡£
- [Three Repo Architecture](../../docs/architecture/three-repo-architecture.md) - ä¸‰ä»“åº“æ¶æ„æ–‡æ¡£

---

### C. è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·è”ç³»ï¼š
- **å¼€å‘å›¢é˜Ÿ**: [å¼€å‘è€…é‚®ç®±]
- **GitHub Issues**: [é¡¹ç›® GitHub ä»“åº“]

---

**æ–‡æ¡£ç»“æŸ**
